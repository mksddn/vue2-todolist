"use strict";(self["webpackChunkvue2todolist"]=self["webpackChunkvue2todolist"]||[]).push([[961],{1961:function(t,e,o){o.r(e),o.d(e,{default:function(){return n}});var s=function(){var t=this,e=t._self._c;return t.todoById?e("div",[e("h2",[t._v("Изменить задачу")]),e("form",{staticClass:"tdchange"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.todoById.title,expression:"todoById.title"}],attrs:{type:"text"},domProps:{value:t.todoById.title},on:{input:function(e){e.target.composing||t.$set(t.todoById,"title",e.target.value)}}}),e("button",{attrs:{disabled:t.disableButton},on:{click:function(e){return e.preventDefault(),t.changeTodoTitle.apply(null,arguments)}}},[t._v("Сохранить")])]),e("p",{ref:"discl",staticClass:"discl"},[t._v("Внесены изменения в состояние хранилища, но они сбросятся при возврате к задачам, так как мы не используем localStorage")]),e("br"),e("router-link",{attrs:{to:{name:"Home"}}},[t._v("К задачам")])],1):t._e()},d=[],i={name:"TodoPage",data(){return{freezeTodoTitle:"",disableButton:!0}},computed:{todoById(){return this.$store.getters.todoById(this.$route.params.id)}},watch:{"todoById.title"(t,e){void 0!==e?this.disableButton=!1:this.freezeTodoTitle=this.todoById.title,t===this.freezeTodoTitle&&(this.disableButton=!0)}},mounted(){this.getTodos()},methods:{getTodos(){this.$store.state.todos.length||this.$store.dispatch("getTodos")},changeTodoTitle(){console.log("Изменения сохранены"),this.$refs.discl.classList.add("show"),setTimeout((()=>{this.$refs.discl.classList.remove("show")}),5e3)}}},l=i,a=o(1001),r=(0,a.Z)(l,s,d,!1,null,"5c6dc214",null),n=r.exports}}]);
//# sourceMappingURL=961.afc8cb69.js.map